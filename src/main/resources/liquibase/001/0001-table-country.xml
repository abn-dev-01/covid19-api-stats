<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
		http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">

<!--// @formatter:off-->

    <changeSet id="2023-02-05-01" author="Andrew Nikin" context="prod,dev">
        <sql>
        <![CDATA[
            CREATE TABLE entity_country
            (
                id           INT         NOT NULL PRIMARY KEY,
                country_name VARCHAR(50) NOT NULL,
                slug         VARCHAR(50) NOT NULL,
                iso2         CHAR(2)     NOT NULL
            )
            ]]>
        </sql>
    </changeSet>
    <changeSet id="2023-02-05-02" author="Andrew Nikin" context="prod,dev">
        <sql>
        <![CDATA[
            CREATE TABLE entity_total_country
            (
                id              INT         NOT NULL PRIMARY KEY,
                country         VARCHAR(50) NOT NULL,
                country_code    CHAR(2) NOT NULL,
                province        VARCHAR(50) NOT NULL,
                city            VARCHAR(128) NOT NULL,
                city_code       VARCHAR(16) NOT NULL,
                lat             VARCHAR(32) NOT NULL,
                lon             VARCHAR(32) NOT NULL,
                confirmed       INT NOT NULL,
                deaths          INT NOT NULL,
                recovered       INT NOT NULL,
                active          INT NOT NULL,
                date_stat       DATE NOT NULL,
                comment         VARCHAR(128)
            );
            CREATE INDEX IDX_COUNTRY_CODE ON entity_total_country(country_code);
            CREATE INDEX IDX_COUNTRY ON entity_total_country(country);
            CREATE INDEX IDX_DATE_STAT ON entity_total_country(date_stat);
            ]]>
        </sql>
    </changeSet>

<!--// @formatter:on-->
</databaseChangeLog>
